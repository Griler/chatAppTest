{"version":3,"sources":["../../../../../assets/Script/ChatForm/assets/Script/ChatForm/ChatRoomSocket.js"],"names":["io","require","cc","Class","extends","Component","properties","avatar","Sprite","nameUser","Label","atlasImg","SpriteAtlas","onLoad","jsonString","sys","localStorage","getItem","userData","JSON","parse","log","setAvatarName","name","imgName","start","x","getSpriteFrames","spriteFrame","string"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,KAAKC,QAAQ,kBAAR,CAAX;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,gBAAQL,GAAGM,MADH;AAERC,kBAAUP,GAAGQ,KAFL;AAGRC,kBAAUT,GAAGU;AAHL,KAHP;;AASL;;AAEAC,UAXK,oBAWI;AACL,YAAIC,aAAaZ,GAAGa,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,YAA5B,CAAjB;AACA,aAAKC,QAAL,GAAgBC,KAAKC,KAAL,CAAWN,UAAX,CAAhB;AACAZ,WAAGmB,GAAH,CAAO,KAAKH,QAAZ;AACA,aAAKI,aAAL,CAAmB,KAAKJ,QAAL,CAAcK,IAAjC,EAAuC,KAAKL,QAAL,CAAcM,OAArD;AACH,KAhBI;AAiBLC,SAjBK,mBAiBG,CACP,CAlBI;;AAmBLH,mBAAe,uBAAUb,QAAV,EAAoBe,OAApB,EAA6B;AACxC;AACA;AACA,aAAK,IAAIE,CAAT,IAAc,KAAKf,QAAL,CAAcgB,eAAd,EAAd,EAA+C;AAC3C,gBAAI,KAAKhB,QAAL,CAAcgB,eAAd,GAAgCD,CAAhC,EAAmCH,IAAnC,KAA4CC,OAAhD,EAAyD;AACrD,qBAAKjB,MAAL,CAAYqB,WAAZ,GAA0B,KAAKjB,QAAL,CAAcgB,eAAd,GAAgCD,CAAhC,CAA1B;AACH;AACJ;AACD,aAAKjB,QAAL,CAAcoB,MAAd,GAAuBpB,QAAvB;AACH;;AA5BI,CAAT","file":"ChatRoomSocket.js","sourceRoot":"../../../../../assets/Script/ChatForm","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\nconst io = require('socket.io-client');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        avatar: cc.Sprite,\n        nameUser: cc.Label,\n        atlasImg: cc.SpriteAtlas\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        let jsonString = cc.sys.localStorage.getItem(\"playerData\")\n        this.userData = JSON.parse(jsonString);\n        cc.log(this.userData);\n        this.setAvatarName(this.userData.name, this.userData.imgName)\n    },\n    start() {\n    },\n    setAvatarName: function (nameUser, imgName) {\n        //cc.log(this.avatar.imageAtlas);\n        //if (socketId !== this.socket.id) return;\n        for (let x in this.atlasImg.getSpriteFrames()) {\n            if (this.atlasImg.getSpriteFrames()[x].name === imgName) {\n                this.avatar.spriteFrame = this.atlasImg.getSpriteFrames()[x];\n            }\n        }\n        this.nameUser.string = nameUser;\n    },\n\n});\n"]}